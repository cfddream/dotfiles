# Normal

## set tmux to utf-8
set-option -g utf8
set-window-option -g utf8 on

## use 256 colour
set-option -g default-terminal xterm-256color

## set scrollback history to 10000 (10k)
set-option -g history-limit 10000

## shorten command delay
set-option -sg escape-time 1

## enable native Mac OS X copy/paste
set-option -g default-command 'reattach-to-user-namespace -l zsh'

## act like GNU screen
unbind C-b
set-option -g prefix C-s

## Enter copy-mode
set-window-option -g mode-keys vi
bind-key y copy-mode
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy V rectangle-toggle
bind-key -t vi-copy y copy-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
unbind-key -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"
bind-key -t vi-copy Escape cancel
bind-key p paste-buffer

## clear buffer
bind-key -n C-g send-keys C-l

## list buffers
bind-key b list-buffers

## reload ~/.tmux.config
bind-key R source-file ~/.tmux.conf \; display-message "tmux.conf reloaded."

## open a man page in new window
bind-key / command-prompt "split-window 'exec man %%'"


# Panes
set-window-option -g pane-base-index 1
set-window-option -g display-panes-time 1500

## goto last pane
bind-key -r a last-pane

## kill current pane/
bind-key q confirm-before kill-pane

## display visible indicator of each pane
bind-key w display-panes

## Use vi keybindings for tmux commandline input.
## Note that to get command mode you need to hit ESC twice...
set-option -g status-keys vi

## act like vim
bind-key -r h select-pane -L
bind-key -r j select-pane -D
bind-key -r k select-pane -U
bind-key -r l select-pane -R

## easily toggle synchronization (mnemonic: e is for echo)
## sends input to all panes in a given window.
bind-key e setw synchronize-panes on
bind-key E setw synchronize-panes off

## and use H and L to cycle thru panes
bind-key -r H select-window -t :-
bind-key -r L select-window -t :+

## resize panes like vim
bind-key -r < resize-pane -L 25
bind-key -r + resize-pane -D 10
bind-key -r = resize-pane -U 10
bind-key -r > resize-pane -R 25
#bind-key H resize-pane -L
#bind-key J resize-pane -D
#bind-key K resize-pane -U
#bind-key L resize-pane -R


# Windows
set-option -g base-index 1
set-option -g renumber-windows on

## remap new pane / window with current path
bind-key c new-window -c '#{pane_current_path}'

## kill current windown
bind-key Q confirm-before kill-window

## use PREFIX | to split window horizontally and PREFIX - to split vertically
bind-key | split-window -h -c "#{pane_current_path}"
bind-key - split-window -v -c "#{pane_current_path}"

bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+

## make the current window the first window
bind-key T swap-window -t 1

#bind-key v split-window -h -c '#{pane_current_path}'
#bind-key ^v split-window -h -c '#{pane_current_path}'
#bind-key s split-window -v
#bind-key ^s split-window -v

bind-key Left prev
bind-key Right next

## allow mouse
set-window-option -g mode-mouse on
set-option -g mouse-resize-pane on
set-option -g mouse-select-pane on
set-option -g mouse-select-window on

## choose a client to detach
bind-key D detach-client

## choose window/session
bind-key "'" choose-window
bind-key '"' choose-session

## displays
bind-key * list-clients

## smart pane switching with awareness of vim splits
bind-key -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-h) || tmux select-pane -L"
bind-key -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-j) || tmux select-pane -D"
bind-key -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-k) || tmux select-pane -U"
bind-key -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-l) || tmux select-pane -R"

## visual notification of activity in other windows
set-option -g visual-activity on
set-window-option -g monitor-activity on


# Status

set-option -g status "on"
set-option -g status-utf8 "on"
set-option -g status-left "#[fg=colour15,bg=colour240] #S #[fg=colour240,bg=colour235,nobold,nounderscore,noitalics] "
set-option -g status-right "#[fg=colour144,bg=colour235]%Y-%m-%d %H:%M #[fg=colour15,bg=colour240] #h "
set-window-option -g window-status-format " #I #W "
set-window -g window-status-current-format "#I #W "


# COLOUR (Solarized 256)

## default statusbar colors
set-option -g status-bg colour235 #base02
set-option -g status-fg colour136 #yellow
set-option -g status-attr default

## default window title colors
set-window-option -g window-status-fg colour244 #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

## active window title colors
set-window-option -g window-status-current-fg colour166 #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

## pane border
set-option -g pane-border-fg colour235 #base02
set-option -g pane-active-border-fg colour240 #base01

## message text
set-option -g message-bg colour235 #base02
set-option -g message-fg colour166 #orange

## pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

## clock
set-window-option -g clock-mode-colour colour64 #green

# Links
## https://github.com/thoughtbot/dotfiles
## https://github.com/tejr/dotfiles/blob/master/tmux/tmux.conf
## https://gist.github.com/MohamedAlaa/2961058
## https://github.com/square/maximum-awesome/blob/master/tmux.conf
## http://www.tylercipriani.com/2013/09/12/important-lines-in-my-tmux.html
## https://gist.github.com/henrik/1967800
## https://github.com/seebi/tmux-colors-solarized
## https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard
